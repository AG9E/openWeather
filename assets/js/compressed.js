var cityInput=document.querySelector("#city"),userFormEl=document.querySelector("#user-form"),cityList=document.querySelector("#city-list"),cityCountSpan=document.querySelector("#todo-count"),cities=[];function renderHistory(){cityList.innerHTML="",cityCountSpan.textContent=cities.length;for(var t,e=0;e<cities.length;e++){var n=cities[e],i=document.createElement("li");i.textContent=n,i.setAttribute("data-index",e),cityList.appendChild(i)}0<cities.length&&((t=document.createElement("button")).classList.add("btn"),t.classList.add("city-btn"),t.textContent="Clear",cityList.appendChild(t))}function init(){var t=JSON.parse(localStorage.getItem("cities"));null!=t&&(cities=t),renderHistory()}function storeCities(){localStorage.setItem("cities",JSON.stringify(cities))}userFormEl.addEventListener("submit",function(t){t.preventDefault();t=cityInput.value.trim();""!==t&&(cities.push(t),cityInput.value="",storeCities(),renderHistory())}),cityList.addEventListener("click",function(t){t=t.target;!0===t.matches("button")&&(t=t.parentElement.getAttribute("data-index"),cities.splice(t,cities.length),storeCities(),renderHistory())}),init();var cityInput=document.querySelector("#city"),userFormEl=document.querySelector("#user-form"),cityList=document.querySelector("#city-list"),cityCountSpan=document.querySelector("#todo-count"),cities=[],formSubmitHandler=function(t){t.preventDefault();t=cityInput.value.trim();t&&(weatherBalloon(t),cityInput.value="")};function weatherBalloon(t){fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid="+"8426d948b8d4bb92ef346cda32941a6d").then(function(t){return t.json()}).then(function(t){console.log(t)}).catch(function(){})}function drawWeather(t){var e=Math.round(parseFloat(t.main.temp)-273.15);Math.round(1.8*(parseFloat(t.main.temp)-273.15)+32);document.getElementById("description").innerHTML=t.weather[0].description,document.getElementById("temp").innerHTML=e+"&deg;",document.getElementById("location").innerHTML=t.name}function weatherBalloon(t){fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+"&appid=8426d948b8d4bb92ef346cda32941a6d").then(function(t){return t.json()}).then(function(t){drawWeather(t)}).catch(function(){})}function drawWeather(t){var e=Math.round(parseFloat(t.main.temp)-273.15),n=(Math.round(1.8*(parseFloat(t.main.temp)-273.15)+32),t.weather[0].description);document.getElementById("description").innerHTML=n,document.getElementById("temp").innerHTML=e+"&deg;",document.getElementById("location").innerHTML=t.name,0<n.indexOf("rain")?document.getElementById("weatherConditions").classList.add("rainy"):0<n.indexOf("cloud")?document.getElementById("weatherConditions").classList.add("cloudy"):0<n.indexOf("sunny")?document.getElementById("weatherConditions").classList.add("sunny"):document.getElementById("weatherConditions").classList.add("clear")}userFormEl.addEventListener("submit",formSubmitHandler);